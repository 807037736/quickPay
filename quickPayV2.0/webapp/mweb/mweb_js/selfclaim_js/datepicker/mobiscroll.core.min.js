/*
 * Mobiscroll v2.8.3
 * http://mobiscroll.com
 *
 * Copyright 2010-2013, Acid Media
 * Licensed under the MIT license.
 *
 */
(function(a){function l(n){var m;for(m in n){if(h[n[m]]!==undefined){return true}}return false}function k(){var n=["Webkit","Moz","O","ms"],m;for(m in n){if(l([n[m]+"Transform"])){return"-"+n[m].toLowerCase()+"-"}}return""}function c(o,m){var p=o.originalEvent,n=o.changedTouches;return n||(p&&p.changedTouches)?(p?p.changedTouches[0]["page"+m]:n[0]["page"+m]):o["page"+m]}function f(p,n,m){var o=p;if(typeof n==="object"){return p.each(function(){if(!this.id){this.id="mobiscroll"+(++e)}if(g[this.id]){g[this.id].destroy()}new a.mobiscroll.classes[n.component||"Scroller"](this,n)})}if(typeof n==="string"){p.each(function(){var s,q=g[this.id];if(q&&q[n]){s=q[n].apply(this,Array.prototype.slice.call(m,1));if(s!==undefined){o=s;return false}}})}return o}var e=+new Date,g={},b=a.extend,h=document.createElement("modernizr").style,d=l(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),j=k(),i=j.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz");a.fn.mobiscroll=function(m){b(this,a.mobiscroll.components);return f(this,m,arguments)};a.mobiscroll=a.mobiscroll||{util:{prefix:j,jsPrefix:i,has3d:d,getCoord:c},presets:{},themes:{},i18n:{},instances:g,classes:{},components:{},presetShort:function(n,m){this.components[n]=function(o){return f(this,b(o,{component:m,preset:n}),arguments)}}};a.scroller=a.scroller||a.mobiscroll;a.fn.scroller=a.fn.scroller||a.fn.mobiscroll})(jQuery);(function(a){a.mobiscroll.classes.Scroller=function(H,aF){var X,Q,aP,F,ap,an,aU,aR,ae,Z,W,y,aN,V,D,P,aC,ad,aH,aI,aK,ao,aa,Y,ac,aL,R,aO,ay,av,aw,aT,E,B,A,aM=this,G=H,I=a(G),aA=h({},e),au={},U={},at={},aq={},aS=[],J=[],S=I.is("input"),aQ=false,am=function(aV){if(v(aV)&&!l&&!D&&!A&&!T(this)){aV.preventDefault();l=true;aC=aA.mode!="clickpick";aL=a(".dw-ul",this);aE(aL);ad=U[R]!==undefined;ao=ad?N(aL):at[R];aH=i(aV,"Y");aI=new Date();aK=aH;aB(aL,R,ao,0.001);if(aC){aL.closest(".dwwl").addClass("dwa")}a(document).on(m,ak).on(g,ah)}},ak=function(aV){if(aC){aV.preventDefault();aV.stopPropagation();aK=i(aV,"Y");aB(aL,R,c(ao+(aH-aK)/Q,aa-1,Y+1))}if(aH!==aK){ad=true}},ah=function(aW){var a1=new Date()-aI,a4=c(ao+(aH-aK)/Q,aa-1,Y+1),a0,aV,a2,a3=aL.offset().top;if(a1<300){a0=(aK-aH)/a1;aV=(a0*a0)/aA.speedUnit;if(aK-aH<0){aV=-aV}}else{aV=aK-aH}a2=Math.round(ao-aV/Q);if(!aV&&!ad){var aY=Math.floor((aK-a3)/Q),aZ=a(a(".dw-li",aL)[aY]),aX=aC;if(K("onValueTap",[aZ])!==false){a2=aY}else{aX=true}if(aX){aZ.addClass("dw-hl");setTimeout(function(){aZ.removeClass("dw-hl")},200)}}if(aC){C(aL,a2,0,true,Math.round(a4))}l=false;aL=null;a(document).off(m,ak).off(g,ah)},ag=function(aV){if(A){A.removeClass("dwb-a")}A=a(this);a(document).on(g,af);if(!A.hasClass("dwb-d")&&!A.hasClass("dwb-nhl")){A.addClass("dwb-a")}if(A.hasClass("dwwb")){if(v(aV)){aJ(aV,A.closest(".dwwl"),A.hasClass("dwwbp")?ar:ab)}}},af=function(aV){if(D){clearInterval(aO);D=false}if(A){A.removeClass("dwb-a");A=null}a(document).off(g,af)},ai=function(aV){if(aV.keyCode==38){aJ(aV,a(this),ab)}else{if(aV.keyCode==40){aJ(aV,a(this),ar)}}},aj=function(aV){if(D){clearInterval(aO);D=false}},al=function(aW){if(!T(this)){aW.preventDefault();aW=aW.originalEvent||aW;var aV=aW.wheelDelta?(aW.wheelDelta/120):(aW.detail?(-aW.detail/3):0),aX=a(".dw-ul",this);aE(aX);C(aX,Math.round(at[R]-aV),aV<0?1:2)}};function aJ(aV,aY,aW){aV.stopPropagation();aV.preventDefault();if(!D&&!T(aY)&&!aY.hasClass("dwa")){D=true;var aX=aY.find(".dw-ul");aE(aX);clearInterval(aO);aO=setInterval(function(){aW(aX)},aA.delay);aW(aX)}}function T(aW){if(a.isArray(aA.readonly)){var aV=a(".dwwl",F).index(aW);return aA.readonly[aV]}return aA.readonly}function M(aW){var aV='<div class="dw-bf">',a2=aS[aW],a1=a2.values?a2:d(a2),aY=1,aZ=a1.labels||[],a0=a1.values,aX=a1.keys||a0;a.each(a0,function(a3,a4){if(aY%20==0){aV+='</div><div class="dw-bf">'}aV+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+aX[a3]+'"'+(aZ[a3]?' aria-label="'+aZ[a3]+'"':"")+' style="height:'+Q+"px;line-height:"+Q+'px;"><div class="dw-i">'+a4+"</div></div>";aY++});aV+="</div>";return aV}function aE(aV){aa=a(".dw-li",aV).index(a(".dw-v",aV).eq(0));Y=a(".dw-li",aV).index(a(".dw-v",aV).eq(-1));R=a(".dw-ul",F).index(aV)}function L(aW){var aV=aA.headerText;return aV?(typeof aV==="function"?aV.call(G,aW):aV.replace(/\{value\}/i,aW)):""}function ax(){aM.temp=aM.values?aM.values.slice(0):aA.parseValue(I.val()||"",aM);aG()}function N(aY){var aX=window.getComputedStyle?getComputedStyle(aY[0]):aY[0].style,aV,aW;if(j){a.each(["t","webkitT","MozT","OT","msT"],function(aZ,a0){if(aX[a0+"ransform"]!==undefined){aV=aX[a0+"ransform"];return false}});aV=aV.split(")")[0].split(", ");aW=aV[13]||aV[5]}else{aW=aX.top.replace("px","")}return Math.round(X-(aW/Q))}function az(aW,aV){clearTimeout(U[aV]);delete U[aV];aW.closest(".dwwl").removeClass("dwa")}function aB(a0,aX,a2,a1,aV){var aY=(X-a2)*Q,aZ=a0[0].style,aW;if(aY==aq[aX]&&U[aX]){return}if(a1&&aY!=aq[aX]){K("onAnimStart",[F,aX,a1])}aq[aX]=aY;aZ[o+"Transition"]="all "+(a1?a1.toFixed(3):0)+"s ease-out";if(j){aZ[o+"Transform"]="translate3d(0,"+aY+"px,0)"}else{aZ.top=aY+"px"}if(U[aX]){az(a0,aX)}if(a1&&aV){a0.closest(".dwwl").addClass("dwa");U[aX]=setTimeout(function(){az(a0,aX)},a1*1000)}at[aX]=a2}function O(a5,a3,aZ){var aV=a('.dw-li[data-val="'+a5+'"]',a3),aY=a(".dw-li",a3),a4=aY.index(aV),a2=aY.length;if(!aV.hasClass("dw-v")){var aW=aV,aX=aV,a0=0,a1=0;while(a4-a0>=0&&!aW.hasClass("dw-v")){a0++;aW=aY.eq(a4-a0)}while(a4+a1<a2&&!aX.hasClass("dw-v")){a1++;aX=aY.eq(a4+a1)}if(((a1<a0&&a1&&aZ!==2)||!a0||(a4-a0<0)||aZ==1)&&aX.hasClass("dw-v")){aV=aX;a4=a4+a1}else{aV=aW;a4=a4-a0}}return{cell:aV,v:a4,val:aV.attr("data-val")}}function aD(aZ,aX,aY,aW,aV){if(K("validate",[F,aX,aZ,aW])!==false){a(".dw-ul",F).each(function(a1){var a4=a(this),a3=a1==aX||aX===undefined,a2=O(aM.temp[a1],a4,aW),a0=a2.cell;if(!(a0.hasClass("dw-sel"))||a3){aM.temp[a1]=a2.val;if(!aA.multiple){a(".dw-sel",a4).removeAttr("aria-selected");a0.attr("aria-selected","true")}a(".dw-sel",a4).removeClass("dw-sel");a0.addClass("dw-sel");aB(a4,a1,a2.v,a3?aZ:0.1,a3?aV:false)}});aP=aA.formatResult(aM.temp);if(aM.live){aG(aY,0,true)}a(".dwv",F).html(L(aP));if(aY){K("onChange",[aP])}}}function K(aW,aV){var aX;aV.push(aM);a.each([aN,au,aF],function(aY,aZ){if(aZ&&aZ[aW]){aX=aZ[aW].apply(G,aV)}});return aX}function C(a2,a4,aY,aW,a1){a4=c(a4,aa,Y);var aX=a(".dw-li",a2).eq(a4),a0=a1===undefined?a4:a1,aV=a1!==undefined,aZ=R,a3=aW?(a4==a0?0.1:Math.abs((a4-a0)*aA.timeUnit)):0;aM.temp[aZ]=aX.attr("data-val");aB(a2,aZ,a4,a3,aV);setTimeout(function(){aD(a3,aZ,true,aY,aV)},10)}function ar(aV){var aW=at[R]+1;C(aV,aW>Y?aa:aW,1,true)}function ab(aV){var aW=at[R]-1;C(aV,aW<aa?Y:aW,2,true)}function aG(aV,aZ,aX,aY,aW){if(aQ&&!aX){aD(aZ,undefined,aW)}aP=aA.formatResult(aM.temp);if(!aY){aM.values=aM.temp.slice(0);aM.val=aP}if(aV&&S){av=true;I.val(aP).change()}}function z(aX,aV){var aW;aT.on(aX,function(aY){clearTimeout(aW);aW=setTimeout(function(){if((W&&aV)||!aV){aM.position(!aV)}},200)})}aM.position=function(a4){if(!ac||aw||(aU===ap.width()&&aR===(aT[0].innerHeight||aT.innerHeight())&&a4)||(K("onPosition",[F])===false)){return}var bf,a8,bd,a3,aV,aY,a2,aW,aZ,a1,a0,a7,ba,be=0,a9=0,bb=aT.scrollLeft(),bc=aT.scrollTop(),bg=a(".dwwr",F),a6=a(".dw",F),a5={},aX=aA.anchor===undefined?I:aA.anchor;aU=ap.width();aR=aT[0].innerHeight||aT.innerHeight();if(/modal|bubble/.test(aA.display)){a(".dwc",F).each(function(){bf=a(this).outerWidth(true);be+=bf;a9=(bf>a9)?bf:a9});bf=be>aU?a9:be;bg.width(bf).css("white-space",be>aU?"":"nowrap")}ae=a6.outerWidth();Z=a6.outerHeight(true);W=Z<=aR&&ae<=aU;aM.scrollLock=W;if(aA.display=="modal"){a8=(aU-ae)/2;bd=bc+(aR-Z)/2}else{if(aA.display=="bubble"){ba=true;aZ=a(".dw-arrw-i",F);aY=aX.offset();a2=Math.abs(a(aA.context).offset().top-aY.top);aW=Math.abs(a(aA.context).offset().left-aY.left);a3=aX.outerWidth();aV=aX.outerHeight();a8=c(aW-(a6.outerWidth(true)-a3)/2-bb,3,aU-ae-3);bd=a2-Z;if((bd<bc)||(a2>bc+aR)){a6.removeClass("dw-bubble-top").addClass("dw-bubble-bottom");bd=a2+aV}else{a6.removeClass("dw-bubble-bottom").addClass("dw-bubble-top")}a1=aZ.outerWidth();a0=c(aW+a3/2-(a8+(ae-a1)/2)-bb,0,a1);a(".dw-arr",F).css({left:a0})}else{a5.width="100%";if(aA.display=="top"){bd=bc}else{if(aA.display=="bottom"){bd=bc+aR-Z}}}}a5.top=bd<0?0:bd;a5.left=a8;a6.css(a5);ap.height(0);a7=Math.max(bd+Z,aA.context=="body"?a(document).height():E.scrollHeight);ap.css({height:a7,left:bb});if(ba&&((bd+Z>bc+aR)||(a2>bc+aR))){aw=true;setTimeout(function(){aw=false},300);aT.scrollTop(Math.min(bd+Z-aR,a7-aR))}};aM.enable=function(){aA.disabled=false;if(S){I.prop("disabled",false)}};aM.disable=function(){aA.disabled=true;if(S){I.prop("disabled",true)}};aM.setValue=function(aY,aV,aX,aW){aM.temp=a.isArray(aY)?aY.slice(0):aA.parseValue.call(G,aY+"",aM);aG(aV,aX,false,aW,aV)};aM.getValue=function(){return aM.values};aM.getValues=function(){var aW=[],aV;for(aV in aM._selectedValues){aW.push(aM._selectedValues[aV])}return aW};aM.changeWheel=function(aW,aZ,aX){if(F){var aV=0,aY=aW.length;a.each(aA.wheels,function(a0,a1){a.each(a1,function(a2,a3){if(a.inArray(aV,aW)>-1){aS[aV]=a3;a(".dw-ul",F).eq(aV).html(M(aV));aY--;if(!aY){aM.position();aD(aZ,undefined,aX);return false}}aV++});if(!aY){return false}})}};aM.isVisible=function(){return aQ};aM.tap=function(aV,aW){var aX,aY;if(aA.tap){aV.on("touchstart.dw mousedown.dw",function(aZ){aZ.preventDefault();aX=i(aZ,"X");aY=i(aZ,"Y")}).on("touchend.dw",function(aZ){if(Math.abs(i(aZ,"X")-aX)<20&&Math.abs(i(aZ,"Y")-aY)<20){aW.call(this,aZ)}s()})}aV.on("click.dw",function(aZ){if(!u){aW.call(this,aZ)}aZ.preventDefault()})};aM.show=function(a2){if(aA.disabled||aQ){return}if(aA.display=="top"){y="slidedown"}if(aA.display=="bottom"){y="slideup"}ax();K("onBeforeShow",[]);var a0,aZ=0,a1="";if(y&&!a2){a1="dw-"+y+" dw-in"}var aV='<div role="dialog" class="'+aA.theme+" dw-"+aA.display+(p?" dw"+p.replace(/\-$/,""):"")+(P?"":" dw-nobtn")+'">'+(!ac?'<div class="dw dwbg dwi">':'<div class="dw-persp"><div class="dwo"></div><div class="dw dwbg '+a1+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div>')+'<div class="dwwr"><div aria-live="assertive" class="dwv'+(aA.headerText?"":" dw-hidden")+'"></div><div class="dwcc">',aY=a.isArray(aA.minWidth),aX=a.isArray(aA.maxWidth),aW=a.isArray(aA.fixedWidth);a.each(aA.wheels,function(a3,a4){aV+='<div class="dwc'+(aA.mode!="scroller"?" dwpm":" dwsc")+(aA.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';a.each(a4,function(a5,a6){aS[aZ]=a6;a0=a6.label!==undefined?a6.label:a5;aV+='<td><div class="dwwl dwrc dwwl'+aZ+'">'+(aA.mode!="scroller"?'<a href="#" tabindex="-1" class="dwb-e dwwb dwwbp" style="height:'+Q+"px;line-height:"+Q+'px;"><span>+</span></a><a href="#" tabindex="-1" class="dwb-e dwwb dwwbm" style="height:'+Q+"px;line-height:"+Q+'px;"><span>&ndash;</span></a>':"")+'<div class="dwl">'+a0+'</div><div tabindex="0" aria-live="off" aria-label="'+a0+'" role="listbox" class="dwww"><div class="dww" style="height:'+(aA.rows*Q)+"px;"+(aA.fixedWidth?("width:"+(aW?aA.fixedWidth[aZ]:aA.fixedWidth)+"px;"):(aA.minWidth?("min-width:"+(aY?aA.minWidth[aZ]:aA.minWidth)+"px;"):"min-width:"+aA.width+"px;")+(aA.maxWidth?("max-width:"+(aX?aA.maxWidth[aZ]:aA.maxWidth)+"px;"):""))+'"><div class="dw-ul">';aV+=M(aZ);aV+='</div><div class="dwwol"></div></div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>';aZ++});aV+="</tr></table></div></div>"});aV+="</div>";if(ac&&P){aV+='<div class="dwbc">';a.each(B,function(a4,a3){a3=(typeof a3==="string")?aM.buttons[a3]:a3;aV+="<span"+(aA.btnWidth?' style="width:'+(100/B.length)+'%"':"")+' class="dwbw '+a3.css+'"><a href="#" class="dwb dwb'+a4+' dwb-e" role="button">'+a3.text+"</a></span>"});aV+="</div>"}aV+=(ac?"</div>":"")+"</div></div></div>";F=a(aV);ap=a(".dw-persp",F);an=a(".dwo",F);aD();K("onMarkupReady",[F]);if(ac){F.appendTo(aA.context);if(y&&!a2){F.addClass("dw-trans");setTimeout(function(){F.removeClass("dw-trans").find(".dw").removeClass(a1)},350)}}else{if(I.is("div")){I.html(F)}else{F.insertAfter(I)}}K("onMarkupInserted",[F]);aQ=true;if(ac){a(window).on("keydown.dw",function(a3){if(a3.keyCode==13){aM.select()}else{if(a3.keyCode==27){aM.cancel()}}});if(aA.scrollLock){F.on("touchmove",function(a3){if(W){a3.preventDefault()}})}a("input,select,button",E).each(function(){if(!this.disabled){if(a(this).attr("autocomplete")){a(this).data("autocomplete",a(this).attr("autocomplete"))}a(this).addClass("dwtd").prop("disabled",true).attr("autocomplete","off")}});aM.position();z("orientationchange.dw resize.dw",false);z("scroll.dw",true)}F.on("DOMMouseScroll mousewheel",".dwwl",al).on("keydown",".dwwl",ai).on("keyup",".dwwl",aj).on("selectstart mousedown",q).on("click",".dwb-e",q).on("touchend",function(){if(aA.tap){s()}}).on("keydown",".dwb-e",function(a3){if(a3.keyCode==32){a3.preventDefault();a3.stopPropagation();a(this).click()}});setTimeout(function(){a.each(B,function(a4,a3){aM.tap(a(".dwb"+a4,F),function(a5){a3=(typeof a3==="string")?aM.buttons[a3]:a3;a3.handler.call(this,a5,aM)})});if(aA.closeOnOverlay){aM.tap(an,function(){aM.cancel()})}F.on(t,".dwwl",am).on(t,".dwb-e",ag)},300);K("onShow",[F,aP])};aM.hide=function(aY,aV,aX){if(!aQ||(!aX&&K("onClose",[aP,aV])===false)){return}a(".dwtd",E).each(function(){a(this).prop("disabled",false).removeClass("dwtd");if(a(this).data("autocomplete")){a(this).attr("autocomplete",a(this).data("autocomplete"))}else{a(this).removeAttr("autocomplete")}});if(F){var aW=ac&&y&&!aY;if(aW){F.addClass("dw-trans").find(".dw").addClass("dw-"+y+" dw-out")}if(aY){F.remove()}else{setTimeout(function(){F.remove();if(b){r=true;b.focus()}},aW?350:1)}aT.off(".dw")}aq={};aQ=false};aM.select=function(){if(aM.hide(false,"set")!==false){aG(true,0,true);K("onSelect",[aM.val])}};aM.attachShow=function(aW,aV){J.push(aW);if(aA.display!=="inline"){aW.on((aA.showOnFocus?"focus.dw":"")+(aA.showOnTap?" click.dw":""),function(aX){if((aX.type!=="focus"||(aX.type==="focus"&&!r))&&!u){if(aV){aV()}b=aW;aM.show()}setTimeout(function(){r=false},300)})}};aM.cancel=function(){if(aM.hide(false,"cancel")!==false){K("onCancel",[aM.val])}};aM.init=function(aW){aN=n.themes[aW.theme||aA.theme];V=n.i18n[aW.lang||aA.lang];h(aF,aW);K("onThemeLoad",[V,aF]);h(aA,aN,V,aF);aA.buttons=aA.buttons||["set","cancel"];aA.headerText=aA.headerText===undefined?(aA.display!=="inline"?"{value}":false):aA.headerText;aM.settings=aA;I.off(".dw");var aV=n.presets[aA.preset];if(aV){au=aV.call(G,aM);h(aA,au,aF)}X=Math.floor(aA.rows/2);Q=aA.height;y=aA.animate;ac=aA.display!=="inline";B=aA.buttons;aT=a(aA.context=="body"?window:aA.context);E=a(aA.context)[0];if(!aA.setText){B.splice(a.inArray("set",B),1)}if(!aA.cancelText){B.splice(a.inArray("cancel",B),1)}if(aA.button3){B.splice(a.inArray("set",B)+1,0,{text:aA.button3Text,handler:aA.button3})}aM.context=aT;aM.live=!ac||(a.inArray("set",B)==-1);aM.buttons.set={text:aA.setText,css:"dwb-s",handler:aM.select};aM.buttons.cancel={text:(aM.live)?aA.closeText:aA.cancelText,css:"dwb-c",handler:aM.cancel};aM.buttons.clear={text:aA.clearText,css:"dwb-cl",handler:function(){aM.trigger("onClear",[F]);I.val("");if(!aM.live){aM.hide()}}};P=B.length>0;if(aQ){aM.hide(true,false,true)}if(ac){ax();if(S){if(ay===undefined){ay=G.readOnly}G.readOnly=true}aM.attachShow(I)}else{aM.show()}if(S){I.on("change.dw",function(){if(!av){aM.setValue(I.val(),false,0.2)}av=false})}};aM.option=function(aW,aX){var aV={};if(typeof aW==="object"){aV=aW}else{aV[aW]=aX}aM.init(aV)};aM.destroy=function(){aM.hide(true,false,true);a.each(J,function(aV,aW){aW.off(".dw")});a(window).off(".dwa");if(S){G.readOnly=ay}delete k[G.id];K("onDestroy",[])};aM.getInst=function(){return aM};aM.getValidCell=O;aM.trigger=K;k[G.id]=aM;aM.values=null;aM.val=null;aM.temp=null;aM.buttons={};aM._selectedValues={};aM.init(aF)};function v(y){if(y.type==="touchstart"){w=true}else{if(w){w=false;return false}}return true}function s(){u=true;setTimeout(function(){u=false},300)}function c(A,z,y){return Math.max(z,Math.min(A,y))}function d(z){var y={values:[],keys:[]};a.each(z,function(A,B){y.keys.push(A);y.values.push(B)});return y}var b,l,u,w,r,n=a.mobiscroll,k=n.instances,x=n.util,p=x.prefix,o=x.jsPrefix,j=x.has3d,i=x.getCoord,f=function(){},q=function(y){y.preventDefault()},h=a.extend,t="touchstart mousedown",m="touchmove mousemove",g="touchend mouseup",e={width:70,height:40,rows:3,delay:300,disabled:false,readonly:false,closeOnOverlay:true,showOnFocus:true,showOnTap:true,showLabel:true,wheels:[],theme:"sense-ui",selectedText:" Selected",closeText:"Close",display:"modal",mode:"scroller",preset:"",lang:"zh",setText:"确定",cancelText:"取消",clearText:"清空",context:"body",scrollLock:true,tap:true,btnWidth:true,speedUnit:0.0012,timeUnit:0.1,formatResult:function(y){return y.join(" ")},parseValue:function(D,z){var C=D.split(" "),B=[],y=0,A;a.each(z.settings.wheels,function(E,F){a.each(F,function(G,H){H=H.values?H:d(H);A=H.keys||H.values;if(a.inArray(C[y],A)!==-1){B.push(C[y])}else{B.push(A[0])}y++})});return B}};a(window).on("focus",function(){if(b){r=true}});a(document).on("mouseover mouseup mousedown click",function(y){if(u){y.stopPropagation();y.preventDefault();return false}});a.mobiscroll.setDefaults=function(y){h(e,y)}})(jQuery);(function(a){var d=a.mobiscroll,b=new Date(),c={dateFormat:"yy-mm-dd",dateOrder:"yymmd D",timeFormat:"HH:ii",timeWheels:"HHii",startYear:b.getFullYear()-100,endYear:b.getFullYear()+1,monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["日","一","二","三","四","五","六"],shortYearCutoff:"+10",monthText:"月",dayText:"日",yearText:"年",hourText:"时",minuteText:"分",secText:"秒",ampmText:"&nbsp;",nowText:"当前",showNow:false,stepHour:1,stepMinute:1,stepSecond:1,separator:" "},e=function(F){var aa=a(this),D={},q;if(aa.is("input")){switch(aa.attr("type")){case"date":q="yy-mm-dd";break;case"datetime":q="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":q="yy-mm-ddTHH:ii:ss";break;case"month":q="yy-mm";D.dateOrder="mmyy";break;case"time":q="HH:ii:ss";break}var L=aa.attr("min"),J=aa.attr("max");if(L){D.minDate=d.parseDate(q,L)}if(J){D.maxDate=d.parseDate(q,J)}}var E,H,I,ad,ae,U,m,G,B,Q=a.extend({},F.settings),T=a.extend(F.settings,c,D,Q),O=0,af=[],P=[],N={},n={y:"getFullYear",m:"getMonth",d:"getDate",h:v,i:x,s:y,a:t},R=T.preset,l=T.dateOrder,ab=T.timeWheels,S=l.match(/D/),h=ab.match(/a/i),A=ab.match(/h/),C=R=="datetime"?T.dateFormat+T.separator+T.timeFormat:R=="time"?T.timeFormat:T.dateFormat,j=new Date(),W=T.stepHour,X=T.stepMinute,Y=T.stepSecond,M=T.minDate||new Date(T.startYear,0,1),K=T.maxDate||new Date(T.endYear,11,31,23,59,59);q=q||C;if(R.match(/date/i)){a.each(["y","m","d"],function(f,i){E=l.search(new RegExp(i,"i"));if(E>-1){P.push({o:E,v:i})}});P.sort(function(f,i){return f.o>i.o?1:-1});a.each(P,function(f,k){N[k.v]=f});ae=[];for(H=0;H<3;H++){if(H==N.y){O++;ad=[];I=[];U=M.getFullYear();m=K.getFullYear();for(E=U;E<=m;E++){I.push(E);ad.push(l.match(/yy/i)?E:(E+"").substr(2,2))}g(ae,I,ad,T.yearText)}else{if(H==N.m){O++;ad=[];I=[];for(E=0;E<12;E++){var Z=l.replace(/[dy]/gi,"").replace(/mm/,E<9?"0"+(E+1):E+1).replace(/m/,(E+1));I.push(E);ad.push(Z.match(/MM/)?Z.replace(/MM/,'<span class="dw-mon">'+T.monthNames[E]+"</span>"):Z.replace(/M/,'<span class="dw-mon">'+T.monthNamesShort[E]+"</span>"))}g(ae,I,ad,T.monthText)}else{if(H==N.d){O++;ad=[];I=[];for(E=1;E<32;E++){I.push(E);ad.push(l.match(/dd/i)&&E<10?"0"+E:E)}g(ae,I,ad,T.dayText)}}}}af.push(ae)}if(R.match(/time/i)){B=true;P=[];a.each(["h","i","s","a"],function(f,k){f=ab.search(new RegExp(k,"i"));if(f>-1){P.push({o:f,v:k})}});P.sort(function(f,i){return f.o>i.o?1:-1});a.each(P,function(f,k){N[k.v]=O+f});ae=[];for(H=O;H<O+4;H++){if(H==N.h){O++;ad=[];I=[];for(E=0;E<(A?12:24);E+=W){I.push(E);ad.push(A&&E==0?12:ab.match(/hh/i)&&E<10?"0"+E:E)}g(ae,I,ad,T.hourText)}else{if(H==N.i){O++;ad=[];I=[];for(E=0;E<60;E+=X){I.push(E);ad.push(ab.match(/ii/)&&E<10?"0"+E:E)}g(ae,I,ad,T.minuteText)}else{if(H==N.s){O++;ad=[];I=[];for(E=0;E<60;E+=Y){I.push(E);ad.push(ab.match(/ss/)&&E<10?"0"+E:E)}g(ae,I,ad,T.secText)}else{if(H==N.a){O++;var ac=ab.match(/A/);g(ae,[0,1],ac?["AM","PM"]:["am","pm"],T.ampmText)}}}}}af.push(ae)}function r(f,o,k){if(N[o]!==undefined){return +f[N[o]]}if(k!==undefined){return k}return j[n[o]]?j[n[o]]():n[o](j)}function g(p,f,o,i){p.push({values:o,keys:f,label:i})}function V(i,f){return Math.floor(i/f)*f}function v(f){var i=f.getHours();i=A&&i>=12?i-12:i;return V(i,W)}function x(f){return V(f.getMinutes(),X)}function y(f){return V(f.getSeconds(),Y)}function t(f){return h&&f.getHours()>11?1:0}function u(f){var i=r(f,"h",0);return new Date(r(f,"y"),r(f,"m"),r(f,"d",1),r(f,"a")?i+12:i,r(f,"i",0),r(f,"s",0))}function w(f,i){return a(".dw-li",f).index(a('.dw-li[data-val="'+i+'"]',f))}function z(k,o,i,f){if(o<0){return 0}if(o>i){return a(".dw-li",k).length}return w(k,o)+f}F.setDate=function(f,k,s,p){var o;for(o in N){F.temp[N[o]]=f[n[o]]?f[n[o]]():n[o](f)}F.setValue(F.temp,k,s,p)};F.getDate=function(f){return u(f?F.temp:F.values)};F.convert=function(f){var i=f;if(!a.isArray(f)){i=[];a.each(f,function(k,p){a.each(p,function(s,ag){if(k==="daysOfWeek"){if(ag.d){ag.d="w"+ag.d}else{ag="w"+ag}}i.push(ag)})})}return i};F.format=C;F.buttons.now={text:T.nowText,css:"dwb-n",handler:function(){F.setDate(new Date(),false,0.3,true,true)}};if(T.showNow){T.buttons.splice(a.inArray("set",T.buttons)+1,0,"now")}G=T.invalid?F.convert(T.invalid):false;return{wheels:af,headerText:T.headerText?function(f){return d.formatDate(C,u(F.temp),T)}:false,formatResult:function(f){return d.formatDate(q,u(f),T)},parseValue:function(p){var f=d.parseDate(q,p,T),k,o=[];for(k in N){o[N[k]]=f[n[k]]?f[n[k]]():n[k](f)}return o},validate:function(ag,ah,aB,s){var aA=F.temp,ap={y:M.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},an={y:K.getFullYear(),m:11,d:31,h:V(A?11:23,W),i:V(59,X),s:V(59,Y),a:1},ax={h:W,i:X,s:Y,a:1},aH=r(aA,"y"),al=r(aA,"m"),ao=true,am=true;a.each(["y","m","d","a","h","i","s"],function(aW,aK){if(N[aK]!==undefined){var aS=ap[aK],aQ=an[aK],aR=31,aV=r(aA,aK),aT=a(".dw-ul",ag).eq(N[aK]);if(aK=="d"){aR=32-new Date(aH,al,32).getDate();aQ=aR;if(S){a(".dw-li",aT).each(function(){var aY=a(this),i=aY.data("val"),aZ=new Date(aH,al,i).getDay(),aX=l.replace(/[my]/gi,"").replace(/dd/,i<10?"0"+i:i).replace(/d/,i);a(".dw-i",aY).html(aX.match(/DD/)?aX.replace(/DD/,'<span class="dw-day">'+T.dayNames[aZ]+"</span>"):aX.replace(/D/,'<span class="dw-day">'+T.dayNamesShort[aZ]+"</span>"))})}}if(ao&&M){aS=M[n[aK]]?M[n[aK]]():n[aK](M)}if(am&&K){aQ=K[n[aK]]?K[n[aK]]():n[aK](K)}if(aK!="y"){var aL=w(aT,aS),aM=w(aT,aQ);a(".dw-li",aT).removeClass("dw-v").slice(aL,aM+1).addClass("dw-v");if(aK=="d"){a(".dw-li",aT).removeClass("dw-h").slice(aR).addClass("dw-h")}}if(aV<aS){aV=aS}if(aV>aQ){aV=aQ}if(ao){ao=aV==aS}if(am){am=aV==aQ}if(G&&aK=="d"){var aI,aO,aP,aU,aJ=new Date(aH,al,1).getDay(),aN=[];for(aO=0;aO<G.length;aO++){aI=G[aO];aU=aI+"";if(!aI.start){if(aI.getTime){if(aI.getFullYear()==aH&&aI.getMonth()==al){aN.push(aI.getDate()-1)}}else{if(!aU.match(/w/i)){aU=aU.split("/");if(aU[1]){if(aU[0]-1==al){aN.push(aU[1]-1)}}else{aN.push(aU[0]-1)}}else{aU=+aU.replace("w","");for(aP=aU-aJ;aP<aR;aP+=7){if(aP>=0){aN.push(aP)}}}}}}a.each(aN,function(aX,aY){a(".dw-li",aT).eq(aY).removeClass("dw-v")});aV=F.getValidCell(aV,aT,s).val}aA[N[aK]]=aV}});if(B&&G){var p,aC,aF,ay,aq,ar,ak,aD,aE,ai,aj,at,au,az,f,av,aw={},k=r(aA,"d"),o=new Date(aH,al,k),aG=["a","h","i","s"];a.each(G,function(aI,aJ){if(aJ.start){aJ.apply=false;p=aJ.d;aC=p+"";ay=aC.split("/");if(p&&((p.getTime&&aH==p.getFullYear()&&al==p.getMonth()&&k==p.getDate())||(!aC.match(/w/i)&&((ay[1]&&k==ay[1]&&al==ay[0]-1)||(!ay[1]&&k==ay[0])))||(aC.match(/w/i)&&o.getDay()==+aC.replace("w","")))){aJ.apply=true;aw[o]=true}}});a.each(G,function(aI,aJ){if(aJ.start&&(aJ.apply||(!aJ.d&&!aw[o]))){aq=aJ.start.split(":");ar=aJ.end.split(":");for(ak=0;ak<3;ak++){if(aq[ak]===undefined){aq[ak]=0}if(ar[ak]===undefined){ar[ak]=59}aq[ak]=+aq[ak];ar[ak]=+ar[ak]}aq.unshift(aq[0]>11?1:0);ar.unshift(ar[0]>11?1:0);if(A){if(aq[1]>=12){aq[1]=aq[1]-12}if(ar[1]>=12){ar[1]=ar[1]-12}}at=true;au=true;a.each(aG,function(aK,aL){if(N[aL]!==undefined){aF=r(aA,aL);f=0;av=0;ai=0;aj=undefined;az=a(".dw-ul",ag).eq(N[aL]);for(ak=aK+1;ak<4;ak++){if(aq[ak]>0){f=ax[aL]}if(ar[ak]<an[aG[ak]]){av=ax[aL]}}aD=V(aq[aK]+f,ax[aL]);aE=V(ar[aK]-av,ax[aL]);if(at){ai=z(az,aD,an[aL],0)}if(au){aj=z(az,aE,an[aL],1)}if(at||au){a(".dw-li",az).slice(ai,aj).removeClass("dw-v")}aF=F.getValidCell(aF,az,s).val;at=at&&aF==V(aq[aK],ax[aL]);au=au&&aF==V(ar[aK],ax[aL]);aA[N[aL]]=aF}})}})}}}};a.each(["date","time","datetime"],function(f,g){d.presets[g]=e;d.presetShort(g)});d.formatDate=function(k,f,r){if(!f){return null}var q=a.extend({},c,r),o=function(h){var i=0;while(m+1<k.length&&k.charAt(m+1)==h){i++;m++}return i},g=function(i,t,h){var s=""+t;if(o(i)){while(s.length<h){s="0"+s}}return s},j=function(i,u,t,h){return(o(i)?h[u]:t[u])},m,p="",n=false;for(m=0;m<k.length;m++){if(n){if(k.charAt(m)=="'"&&!o("'")){n=false}else{p+=k.charAt(m)}}else{switch(k.charAt(m)){case"d":p+=g("d",f.getDate(),2);break;case"D":p+=j("D",f.getDay(),q.dayNamesShort,q.dayNames);break;case"o":p+=g("o",(f.getTime()-new Date(f.getFullYear(),0,0).getTime())/86400000,3);break;case"m":p+=g("m",f.getMonth()+1,2);break;case"M":p+=j("M",f.getMonth(),q.monthNamesShort,q.monthNames);break;case"y":p+=(o("y")?f.getFullYear():(f.getYear()%100<10?"0":"")+f.getYear()%100);break;case"h":var l=f.getHours();p+=g("h",(l>12?(l-12):(l==0?12:l)),2);break;case"H":p+=g("H",f.getHours(),2);break;case"i":p+=g("i",f.getMinutes(),2);break;case"s":p+=g("s",f.getSeconds(),2);break;case"a":p+=f.getHours()>11?"pm":"am";break;case"A":p+=f.getHours()>11?"PM":"AM";break;case"'":if(o("'")){p+="'"}else{n=true}break;default:p+=k.charAt(m)}}}return p};d.parseDate=function(m,B,z){var x=a.extend({},c,z),j=x.defaultValue||new Date();if(!m||!B){return j}B=(typeof B=="object"?B.toString():B+"");var A=x.shortYearCutoff,C=j.getFullYear(),w=j.getMonth()+1,i=j.getDate(),l=-1,p=j.getHours(),v=j.getMinutes(),y=0,f=-1,t=false,u=function(s){var D=(q+1<m.length&&m.charAt(q+1)==s);if(D){q++}return D},o=function(D){u(D);var F=(D=="@"?14:(D=="!"?20:(D=="y"?4:(D=="o"?3:2)))),s=new RegExp("^\\d{1,"+F+"}"),E=B.substr(r).match(s);if(!E){return 0}r+=E[0].length;return parseInt(E[0],10)},n=function(F,H,E){var G=(u(F)?E:H),D;for(D=0;D<G.length;D++){if(B.substr(r,G[D].length).toLowerCase()==G[D].toLowerCase()){r+=G[D].length;return D+1}}return 0},g=function(){r++},r=0,q;for(q=0;q<m.length;q++){if(t){if(m.charAt(q)=="'"&&!u("'")){t=false}else{g()}}else{switch(m.charAt(q)){case"d":i=o("d");break;case"D":n("D",x.dayNamesShort,x.dayNames);break;case"o":l=o("o");break;case"m":w=o("m");break;case"M":w=n("M",x.monthNamesShort,x.monthNames);break;case"y":C=o("y");break;case"H":p=o("H");break;case"h":p=o("h");break;case"i":v=o("i");break;case"s":y=o("s");break;case"a":f=n("a",["am","pm"],["am","pm"])-1;break;case"A":f=n("A",["am","pm"],["am","pm"])-1;break;case"'":if(u("'")){g()}else{t=true}break;default:g()}}}if(C<100){C+=new Date().getFullYear()-new Date().getFullYear()%100+(C<=(typeof A!="string"?A:new Date().getFullYear()%100+parseInt(A,10))?0:-100)}if(l>-1){w=1;i=l;do{var k=32-new Date(C,w-1,32).getDate();if(i<=k){break}w++;i-=k}while(true)}p=(f==-1)?p:((f&&p<12)?(p+12):(!f&&p==12?0:p));var h=new Date(C,w-1,i,p,v,y);if(h.getFullYear()!=C||h.getMonth()+1!=w||h.getDate()!=i){return j}return h}})(jQuery);(function(a){var b={inputClass:"",invalid:[],rtl:false,group:false,groupLabel:"Groups"};a.mobiscroll.presetShort("select");a.mobiscroll.presets.select=function(l){var y=a.extend({},l.settings),D=a.extend(l.settings,b,y),c=a(this),r=c.prop("multiple"),j=this.id+"_dummy",x=r?(c.val()?c.val()[0]:a("option",c).attr("value")):c.val(),g=c.find('option[value="'+x+'"]').parent(),A=g.index()+"",e=A,B,n=a('label[for="'+this.id+'"]').attr("for",j),o=a('label[for="'+j+'"]'),p=D.label!==undefined?D.label:(o.length?o.text():c.attr("name")),m=[],z=[],q={},f,u,F,k,C=D.readonly,H;function d(){var i,J=0,v=[],s=[],I=[[]];if(D.group){if(D.rtl){J=1}a("optgroup",c).each(function(w){v.push(a(this).attr("label"));s.push(w)});I[J]=[{values:v,keys:s,label:D.groupLabel}];i=g;J+=(D.rtl?-1:1)}else{i=c}v=[];s=[];a("option",i).each(function(){var w=a(this).attr("value");v.push(a(this).text());s.push(w);if(a(this).prop("disabled")){m.push(w)}});I[J]=[{values:v,keys:s,label:p}];return I}function E(J,s){var K=[];if(r){var I=[],w=0;for(w in l._selectedValues){I.push(q[w]);K.push(w)}k.val(I.join(", "))}else{k.val(J);K=s?l.values[u]:null}if(s){B=true;c.val(K).change()}}function t(i){if(r&&i.hasClass("dw-v")&&i.closest(".dw").find(".dw-ul").index(i.closest(".dw-ul"))==u){var v=i.attr("data-val"),s=i.hasClass("dw-msel");if(s){i.removeClass("dw-msel").removeAttr("aria-selected");delete l._selectedValues[v]}else{i.addClass("dw-msel").attr("aria-selected","true");l._selectedValues[v]=v}if(l.live){E(v,true)}return false}}if(D.group&&!a("optgroup",c).length){D.group=false}if(!D.invalid.length){D.invalid=m}if(D.group){if(D.rtl){f=1;u=0}else{f=0;u=1}}else{f=-1;u=0}a("#"+j).remove();k=a('<input type="text" id="'+j+'" class="'+D.inputClass+'" readonly />').insertBefore(c);a("option",c).each(function(){q[a(this).attr("value")]=a(this).text()});l.attachShow(k);var G=c.val()||[],h=0;for(h;h<G.length;h++){l._selectedValues[G[h]]=G[h]}E(q[x]);c.off(".dwsel").on("change.dwsel",function(){if(!B){l.setValue(r?c.val()||[]:[c.val()],true)}B=false}).addClass("dw-hsel").attr("tabindex",-1).closest(".ui-field-contain").trigger("create");if(!l._setValue){l._setValue=l.setValue}l.setValue=function(w,I,M,K,L){var O,N=a.isArray(w)?w[0]:w;x=N!==undefined?N:a("option",c).attr("value");if(r){l._selectedValues={};var J=0;for(J;J<w.length;J++){l._selectedValues[w[J]]=w[J]}}if(D.group){g=c.find('option[value="'+x+'"]').parent();e=g.index();O=D.rtl?[x,g.index()]:[g.index(),x];if(e!==A){D.wheels=d();l.changeWheel([u]);A=e+""}}else{O=[x]}l._setValue(O,I,M,K,L);if(I){var s=r?true:x!==c.val();E(q[x],s)}};l.getValue=function(i){var s=i?l.temp:l.values;return s[u]};return{width:50,wheels:H,headerText:false,multiple:r,anchor:k,formatResult:function(i){return q[i[u]]},parseValue:function(){var w=c.val()||[],s=0;if(r){l._selectedValues={};for(s;s<w.length;s++){l._selectedValues[w[s]]=w[s]}}x=r?(c.val()?c.val()[0]:a("option",c).attr("value")):c.val();g=c.find('option[value="'+x+'"]').parent();e=g.index();A=e+"";return D.group&&D.rtl?[x,e]:D.group?[e,x]:[x]},validate:function(s,w,K){if(w===undefined&&r){var L=l._selectedValues,I=0;a(".dwwl"+u+" .dw-li",s).removeClass("dw-msel").removeAttr("aria-selected");for(I in L){a(".dwwl"+u+' .dw-li[data-val="'+L[I]+'"]',s).addClass("dw-msel").attr("aria-selected","true")}}if(w===f){e=l.temp[f];if(e!==A){g=c.find("optgroup").eq(e);e=g.index();x=g.find("option").eq(0).val();x=x||c.val();D.wheels=d();if(D.group){l.temp=D.rtl?[x,e]:[e,x];D.readonly=[D.rtl,!D.rtl];clearTimeout(F);F=setTimeout(function(){l.changeWheel([u],undefined,true);D.readonly=C;A=e+""},K*1000);return false}}else{D.readonly=C}}else{x=l.temp[u]}var J=a(".dw-ul",s).eq(u);a.each(D.invalid,function(M,N){a('.dw-li[data-val="'+N+'"]',J).removeClass("dw-v")})},onBeforeShow:function(i){if(r&&D.counter){D.headerText=function(){var s=0;a.each(l._selectedValues,function(){s++});return s+" "+D.selectedText}}D.wheels=d();if(D.group){l.temp=D.rtl?[x,g.index()]:[g.index(),x]}},onClear:function(i){l._selectedValues={};k.val("");a(".dwwl"+u+" .dw-li",i).removeClass("dw-msel").removeAttr("aria-selected")},onMarkupReady:function(i){i.addClass("dw-select");a(".dwwl"+f,i).on("mousedown touchstart",function(){clearTimeout(F)});if(r){i.addClass("dwms");a(".dwwl",i).eq(u).addClass("dwwms").attr("aria-multiselectable","true");a(".dwwl",i).on("keydown",function(s){if(s.keyCode==32){s.preventDefault();s.stopPropagation();t(a(".dw-sel",this))}});z=a.extend({},l._selectedValues)}},onValueTap:t,onSelect:function(i){E(i,true);if(D.group){l.values=null}},onCancel:function(){if(D.group){l.values=null}if(!l.live&&r){l._selectedValues=a.extend({},z)}},onChange:function(i){if(l.live&&!r){k.val(i);B=true;c.val(l.temp[u]).change()}},onDestroy:function(){k.remove();c.removeClass("dw-hsel").removeAttr("tabindex")}}}})(jQuery);(function(a){var b={dateOrder:"Mddyy",mode:"mixed",rows:5,minWidth:70,height:36,showLabel:false,useShortLabels:true};a.mobiscroll.themes["android-ics"]=b;a.mobiscroll.themes["android-ics light"]=b})(jQuery);